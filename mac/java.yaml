defaults:
  create:
    create_parent_dirs: true
  exec:
    echo: true
  link:
    force: true
    relink: true
  brew:
    force_casks: true

steps:
  - brew:
      tap:
        # for different versions of temurin
        - homebrew/cask-versions
      cask:
        - temurin11
        - temurin17
        - temurin21
  - brew:
      tap:
        - miguelandres/homebrew-tap
        - spotify/public
      formula:
        # Programming languages & Tools
        # - bazel has been moved to bazelisk on mac and bazel on linux
        - coursier
        - jenv
        - kotlin
        - ktlint
        - sbt
        - scala
        - scio
  - exec:
    - cmd: jenv enable-plugin gradle
      description: Enable gradle plugin for `jenv`
      skip_in_ci: true
    - jenv add /Library/Java/JavaVirtualMachines/temurin-21.jdk/Contents/Home
    - jenv add /Library/Java/JavaVirtualMachines/temurin-17.jdk/Contents/Home
    - jenv add /Library/Java/JavaVirtualMachines/temurin-11.jdk/Contents/Home
    - jenv global 21.0
